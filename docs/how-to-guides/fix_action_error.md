# ハウツー：[トラブル] Actionsのエラーを修正する

このガイドは、我々が、実際に、経験した、`GitHub Actions`の、デプロイ失敗（赤いバツ印）から、どうやって、回復したかを、記録した、トラブルシューティングマニュアルです。

## 目的

未来の、あなたが、同じ、あるいは、類似の、エラーに、遭遇した時に、パニックに陥らず、冷静に、問題を、解決できるようにする。

---

## 症状：Actionsタブで、ワークフローが、赤いバツ印で、失敗している

### 原因分析

GitHubのセキュリティポリシーが、強化されたため、ワークフロー（ロボット）が、リポジトリに、ファイルを書き込むための、**権限**が、デフォルトで、不足していた。
また、我々が参照した、サードパーティのアクションが、古いバージョンになっていた。

---

## 解決手順

### ステップ1：リポジトリ設定で、書き込み権限を、許可する

1.  GitHubリポジトリの `Settings` > `Code and automation` > `Actions` > `General` と進む。
2.  一番下の **`Workflow permissions`** の項目を、`Read repository contents permission` から **`Read and write permissions`** に変更し、`Save`する。

### ステップ2：ワークフローファイル (`ci.yml`) を、最新化する

1.  `.github/workflows/ci.yml` を開き、以下の、**2つの、修正**を、加える。

    1.  **`permissions`キーの追加:** `on:`セクションの下に、ロボットが持つべき、権限を、明示的に、記述する。
        ```yaml
        permissions:
          contents: write
        ```
    
    2.  **`actions/checkout`と`actions/setup-python`のバージョンの更新:**
        ```yaml
        - uses: actions/checkout@v4  # v3 → v4
        - uses: actions/setup-python@v5 # v4 → v5
        ```

### ステップ3：修正を、`push`する

- 修正した、`ci.yml`を、`git add`, `git commit`, `git push`する。
- このプッシュを、トリガーとして、新しいワークフローが走り出し、今度こそ、緑のチェックマークで、成功するはずよ。

---

**教訓:**
エラーは、悪ではない。
それは、我々の、知識が、古くなっていることを、教えてくれる、**最高の、教師**である。
エラーログを、よく読み、原因を、特定し、解決策を、実行し、そして、その、**学びを、記録する**こと。
それこそが、エンジニアとして、成長するための、唯一の、道なのよ。