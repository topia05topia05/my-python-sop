# モダンPython開発における、最強の標準作業手順書 (SOP)

---

## 第1部：設計思想 - なぜ、我々はこの手順を踏むのか？

我々が採用するワークフローは、単なる手順の羅列ではない。それは、プロフェッショナルの思考様式を、自らの脳にインストールするための、極めて合理的な「型」である。

| 思想の核心 | なぜ、それが必要か？（技術的本質） | あなたが得るメリット |
|:---|:---|:---|
| **VS Codeに全てを統一する** | 「対話エンジン(Jupyter)」と「コードエディタ」をOSレベルで統合管理。アプリ間の分断と、思考の中断を、完全に根絶するため。 | ツールの使い方で悩む時間がゼロになり、学習の本質にのみ集中できる。 |
| **`.ipynb`ファイルを使う (実験室)** | 「状態を保持するカーネル」と対話し、コードを断片的に実行・検証するため。不確実な処理を、安全な小ステップで解明する。 | 複雑な処理や、未知のデータに直面した時、エラーを恐れず、確実に前進できる。 |
| **`.py`ファイルを使う (書斎)** | 検証済みのロジックを「関数」としてカプセル化し、Pythonのモジュールシステムに載せるため。一度きりの成功を、永続的な資産へと昇華させる。 | 一度作った便利な処理を、コピペせずに、何度でも、正確に、再利用できる。未来のあなたの時間を、劇的に節約する。 |

---

## 第2部：実践手順 - 具体的に、どうやるのか？

教科書『実践力を身につけるPythonの教科書』を進めるための、具体的な行動計画。

### フェーズ 1：戦闘準備 (各章の開始時、一度だけ)

1.  **司令部の設営:**
    *   母艦フォルダ(`C:\Users\am2\Documents\python`)の中に、該当するチャプター名のフォルダ（例: `Chapter5_機械学習`）を作成する。
2.  **拠点の展開:**
    *   **VS Codeで、今作ったチャプターフォルダを開く。** これ以降、全ての作業は、このVS Codeウィンドウ内で行う。
3.  **聖域の創造:**
    *   VS Codeの**ターミナル**を開き、以下のコマンドを実行して、このチャプター専用の、汚してもいいPython環境を作る。
        ```bash
        python -m venv .venv
        ```
4.  **聖域への入場:**
    *   同じくターミナルで、以下のコマンドを実行し、今作った環境を有効化する。ターミナルの左側に、`(.venv)`と表示されれば、成功よ。
        ```powershell
        .venv\Scripts\activate
        ```

### フェーズ 2：『実験室』での探索 (`.ipynb`での作業)

*このフェーズは、**Chapter 1～5の全て**で、基本となる活動よ。*

1.  **実験ノートの作成:**
    *   VS Codeのエクスプローラーで、新しいJupyterノートブック（例: `p200_wine_analysis_prototype.ipynb`）を作成する。
2.  **インクリメンタルな実践:**
    *   教科書のコードを、決して、一度に全部写さないこと。**論理的な塊でセルを分け**、**1セル書くごとに `Shift + Enter` で実行**し、結果を必ずその目で確認する。
3.  **思考の記録:**
    *   **Markdownセル**を使い、「このコードは何をしているのか」「ここで、なぜエラーが出たのか」「先生の補足」など、あなた自身の言葉で、思考のログを、生々しく書き残す。

### フェーズ 3：『書斎』への清書 (`.py`への関数化)

*このフェーズは、特にコードが複雑化する **Chapter 5以降**で、その真価を発揮するわ。*

1.  **道具箱の準備:**
    *   チャプターフォルダ内に、`src`という名前のフォルダを作成する。
    *   `src`の中に、役割に応じた`.py`ファイルを作成する（例: `data_utils.py`, `model_utils.py`）。
2.  **知的資産化（リファクタリング）:**
    *   `ipynb`での実験の結果、完璧に動くと確信したコードの塊の中から、**「これは、他の場所でも使いそうだ」**という部分を、特定する。
    *   特定したコードを、対応する`.py`ファイルの中に、`def`で始まる**関数として、切り出して、清書**する。

### フェーズ 4：『司令塔』からの連携**

1.  **新しい実験ノートの作成:**
    *   チャプターフォルダ内に、今度は、分析の結論をまとめるための、新しいノートブック（例: `wine_analysis_main.ipynb`）を作成する。
2.  **自作道具の召喚:**
    *   ノートブックの最初のセルで、`from src.data_utils import load_wine_data` のように、あなたが『書斎』で作り上げた道具を `import` する。
3.  **命令の発行:**
    *   かつて何十行もかかった処理が、自作の関数を、たった一行呼び出すだけで、完遂されることを、確認しなさい。その時、あなたは、このワークフローの、本当の力を、理解するはずよ。